2025-08-23 14:54:19,237 INFO: Starting content generation for lesson 6: Error Handling and Basic Debugging [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:54:19,825 INFO: API Request: POST /api/auth/login from 172.18.0.1 [in /app/app/utils/security.py:89]
2025-08-23 14:54:20,134 INFO: User logged in successfully: demo-user [in /app/app/services/auth_service.py:103]
2025-08-23 14:54:20,142 INFO: Starting LangChain lesson generation for user demo-user, subject custom_therapy_demo-user [in /app/app/api/lessons.py:424]
2025-08-23 14:54:20,159 INFO: Starting full pipeline demo-user_custom_therapy_demo-user_1755960860 for user demo-user, subject custom_therapy_demo-user [in /app/app/services/pipeline_orchestrator.py:112]
2025-08-23 14:54:20,162 WARNING: RAG document not found: rag_docs/subjects/custom_therapy_demo-user_templates.md [in /app/app/services/rag_document_service.py:142]
2025-08-23 14:54:20,165 INFO: Loaded 1 RAG documents for stage 'curriculum' and subject 'custom_therapy_demo-user' [in /app/app/services/rag_document_service.py:191]
2025-08-23 14:54:20,169 WARNING: RAG document not found: rag_docs/subjects/custom_therapy_demo-user_templates.md [in /app/app/services/rag_document_service.py:142]
2025-08-23 14:54:20,171 INFO: Loaded 1 RAG documents for stage 'lesson_plans' and subject 'custom_therapy_demo-user' [in /app/app/services/rag_document_service.py:191]
2025-08-23 14:54:20,175 WARNING: RAG document not found: rag_docs/subjects/custom_therapy_demo-user_templates.md [in /app/app/services/rag_document_service.py:142]
2025-08-23 14:54:20,178 INFO: Loaded 1 RAG documents for stage 'content' and subject 'custom_therapy_demo-user' [in /app/app/services/rag_document_service.py:191]
2025-08-23 14:54:20,180 INFO: Starting Stage 1: Curriculum generation for custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:65]
2025-08-23 14:54:20,183 INFO: Starting curriculum generation for custom_therapy_demo-user [in /app/app/services/langchain_chains.py:523]
2025-08-23 14:54:40,207 INFO: Successfully generated curriculum with 10 lessons for custom_therapy_demo-user [in /app/app/services/langchain_chains.py:569]
2025-08-23 14:54:40,210 INFO: Stage 1 completed: Curriculum generated for custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:69]
2025-08-23 14:54:40,226 INFO: Curriculum scheme saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:38]
2025-08-23 14:54:40,229 INFO: Starting Stage 2: Lesson planning for custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:78]
2025-08-23 14:54:40,232 INFO: Starting lesson plan generation for custom_therapy_demo-user [in /app/app/services/langchain_chains.py:724]
2025-08-23 14:54:50,345 ERROR: Failed to parse JSON from LLM output: Expecting ',' delimiter: line 22 column 10 (char 1070) [in /app/app/services/langchain_base.py:191]
2025-08-23 14:54:50,347 ERROR: Raw output (first 500 chars): {
    "lesson_plans": [
        {
            "lesson_id": 1,
            "title": "Variables and Data Types",
            "learning_objectives": ["Define variables", "Identify data types", "Use in programs"],
            "structure": {"introduction": "5 min", "main_content": "30 min", "exercises": "15 min"},
            "activities": ["Explain variables", "Demo data types", "Write code"],
            "assessment": "Quiz on basics",
            "materials_needed": ["Computer", "Notes"],
         [in /app/app/services/langchain_base.py:192]
2025-08-23 14:54:50,349 WARNING: Returning minimal curriculum structure due to JSON parsing failure [in /app/app/services/langchain_base.py:201]
2025-08-23 14:54:50,352 INFO: Generated result keys: ['curriculum', 'generated_at', 'generation_stage'] [in /app/app/services/langchain_chains.py:753]
2025-08-23 14:54:50,355 INFO: Generated result type: <class 'dict'> [in /app/app/services/langchain_chains.py:754]
2025-08-23 14:54:50,358 ERROR: Missing required keys in output: ['lesson_plans'] [in /app/app/services/langchain_chains.py:223]
2025-08-23 14:54:50,361 WARNING: Validation failed. Result type: <class 'dict'>, keys: ['curriculum', 'generated_at', 'generation_stage'] [in /app/app/services/langchain_chains.py:759]
2025-08-23 14:54:50,364 WARNING: Creating fallback lesson plans due to validation failure [in /app/app/services/langchain_chains.py:761]
2025-08-23 14:54:50,367 WARNING: Creating fallback lesson plans due to AI generation failure [in /app/app/services/langchain_chains.py:846]
2025-08-23 14:54:50,369 INFO: Successfully generated 10 lesson plans for custom_therapy_demo-user [in /app/app/services/langchain_chains.py:792]
2025-08-23 14:54:50,372 INFO: Stage 2 completed: Lesson plans generated for custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:82]
2025-08-23 14:54:50,387 INFO: Lesson plans saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:92]
2025-08-23 14:54:50,389 INFO: Starting Stage 3: Content generation for lesson 1 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:54:50,392 INFO: Starting content generation for lesson 1: Introduction to Variables and Data Types [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:54:50,818 INFO: Successfully generated content for lesson 6 (14561 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:54:50,820 INFO: Stage 3 completed: Content generated for lesson 6 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:54:50,837 INFO: Lesson 6 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:54:50,840 INFO: Starting Stage 3: Content generation for lesson 7 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:54:50,843 INFO: Starting content generation for lesson 7: Combining Concepts with Modules [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:55:20,520 INFO: Successfully generated content for lesson 1 (13745 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:55:20,523 INFO: Stage 3 completed: Content generated for lesson 1 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:55:20,536 INFO: Lesson 1 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:55:20,539 INFO: Starting Stage 3: Content generation for lesson 2 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:55:20,541 INFO: Starting content generation for lesson 2: Understanding Control Structures [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:55:21,923 INFO: Successfully generated content for lesson 7 (15239 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:55:21,926 INFO: Stage 3 completed: Content generated for lesson 7 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:55:21,941 INFO: Lesson 7 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:55:21,944 INFO: Starting Stage 3: Content generation for lesson 8 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:55:21,947 INFO: Starting content generation for lesson 8: Introduction to Object-Oriented Programming [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:55:52,705 INFO: Successfully generated content for lesson 2 (13453 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:55:52,708 INFO: Stage 3 completed: Content generated for lesson 2 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:55:52,725 INFO: Lesson 2 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:55:52,728 INFO: Starting Stage 3: Content generation for lesson 3 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:55:52,731 INFO: Starting content generation for lesson 3: Functions and Scope Basics [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:55:53,413 INFO: Successfully generated content for lesson 8 (14353 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:55:53,415 INFO: Stage 3 completed: Content generated for lesson 8 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:55:53,430 INFO: Lesson 8 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:55:53,433 INFO: Starting Stage 3: Content generation for lesson 9 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:55:53,435 INFO: Starting content generation for lesson 9: Testing Fundamentals in Python [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:56:24,284 INFO: Successfully generated content for lesson 9 (15203 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:56:24,287 INFO: Stage 3 completed: Content generated for lesson 9 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:56:24,301 INFO: Lesson 9 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
2025-08-23 14:56:24,305 INFO: Starting Stage 3: Content generation for lesson 10 in custom_therapy_demo-user [in /app/app/services/langchain_pipeline.py:92]
2025-08-23 14:56:24,308 INFO: Starting content generation for lesson 10: Best Practices and Simple Project Building [in /app/app/services/langchain_chains.py:976]
2025-08-23 14:56:25,437 INFO: Successfully generated content for lesson 3 (14666 characters) [in /app/app/services/langchain_chains.py:1013]
2025-08-23 14:56:25,439 INFO: Stage 3 completed: Content generated for lesson 3 [in /app/app/services/langchain_pipeline.py:96]
2025-08-23 14:56:25,452 INFO: Lesson 3 content saved for user demo-user, subject custom_therapy_demo-user [in /app/app/services/user_data_service.py:155]
